{% extends "music/layout.html" %}

{% load static %}

{% block body %}

<h1 style="color: rgb(63, 230, 63);"> {{song.Title}} </h1>
<h2 style="color: white;">Singer: {{song.Singer}}</h2>
<h4 style="color: white">Song is in album: {{song.Albums}}</h4>
<hr>
<audio controls>
    <source src="{{ song.Audio.url }}" type="audio/mpeg">
</audio>
<p id="like-count -{{song.id}}" style="color: white;">Likes :{{song.liked_by.count}}</p>
{% if user.is_authenticated %} 
<div id="unlike-view-{{song.id}}" style="display: {% if user in song.liked_by.all %} block {% else %} none {% endif %}">
    <button value="Unlike" onclick="like_song({{song.id}})" class="likeunlike" id="unlike-{{song.id}}"><i class="bi bi-heart-fill" style="color: red;"></i></button>
</div>


<div id="like-view-{{song.id}}" style="display: {% if user in song.liked_by.all %} none {% else %} block {% endif %}">
    <!-- <button value="like" onclick="like_song({{song.id}})" class="likeunlike" id="like-{{song.id}}"><img src="https://i.pinimg.com/736x/49/76/07/497607972058be389e30087c75ba40dd--clip-art-scribble.jpg" alt="like" height="20" width="15"></button> -->
    <button value="like" onclick="like_song({{song.id}})" class="likeunlike" id="like-{{song.id}}"><i class="bi bi-heart-fill" style="color: white;"></i></button>
</div>

{% endif %}


{% endblock %}